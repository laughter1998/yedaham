<!DOCTYPE html>
<html lang="en">
<head>
    <title>부고</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
    <meta name="format-detection" content="telephone=no" />
    <meta property="og:type" content="website">
    <meta property="og:title" content="The-K 예다함 상조">
    <meta property="og:description" content="한국교직원공제회가 100% 출자, 설립한 The-K예다함상조">
    <meta property="og:image" content="https://www.yedaham.com/images/common/logo_withCCM.png">
    <meta property="og:url" content="https://www.yedaham.com">
    <link rel="stylesheet" href="./css/mobile_bugo.css">

</head>
<body id="login">
    <header class="header">
        <a href="javascript:history.go(-1);" class="page-back">뒤로 가기</a>
        <h3>로그인</h3>
        <a href="./index.html" class="page-home"><img src="./images/icon_home.png"  alt="home"></a>
    </header>
    <main>
        <div class="main-title">고인의 명복을 빕니다.</div>
        <div class="content-top">
            <p class="youth">예다함에서 제공하는 <span>OTP로<br />인증하셔야만</span> 로그인이 가능합니다</p>
        </div>
        <section class="box mtup-18">
            <h5 class="box-title">연락처</h5>
            <div class="form-group mt-10" data-error="휴대폰 번호를 입력해 주세요.">
                <input type="number" id="phoneNumber" name="" placeholder="숫자만 입력해 주세요."/>
            </div>
            <h5 class="box-title mt-35">OTP</h5>
            <ul class="etc-list mt-20">
                <li>※ 계약된 연락처와 동일하여만 인증번호가 발송이 됩니다. </li>
                <li>※ 인증번호가 발송이 되지 않을 시 담당 장례지도사로 통해 문의하시기 바랍니다.</li>
            </ul>
            <div class="text-right mt-25 mb-20"><button type="button" class="btn btn-brown" onclick="authReceive()">인증번호 받기</button></div>
            <div class="form-group" data-error="올바른 인증번호가 아닙니다.">
                <input type="number" id="authNum" class="authentication-number" vlaue="">
            </div>
        </section>
    </main>
    <nav id="nav-bot">
        <a href="javascript:history.go(-1);">취소</a>
        <a href="javascript:;" onclick="loginConfirm();" class="f700">확인 </a>
    </nav>

    <div class="modal-alert" id="modalAlert">
        <div class="modal-content" >내용</div>
        <button  class="btn-alert" onclick="closeModalAlert();" >확인</button>
    </div><!-- class="modal" -->
    <div id="overlay"></div>
    

    <script type="text/javascript" src="./js/mobile_bugo_script.js"></script>
    <script>
        function authReceive(){
            const phoneNumber = document.getElementById('phoneNumber');
            const phoneNumberValue = phoneNumber.value.trim();
            // ===== 에러메시지 =====
            if(phoneNumberValue === '') {
                setErrorFor(phoneNumber, '휴대폰 번호를 입력해 주세요.');
                return;
            }
            
            var regPhone = /^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/;
            if (regPhone.test(phoneNumberValue) !== true) {
                setErrorFor(phoneNumber, '올바른 휴대폰 번호가 아닙니다.');
                return;
            }
            openModalAlert('최초 입력된 연락처로<br />OTP 정보가 발송됩니다.<br />OTP 정보가 발송되었습니다.');
        }
        function loginConfirm(){
            const authNum = document.getElementById('authNum');
            const authNumValue = authNum.value.trim();
            // ===== 에러메시지 =====
            if(authNumValue === '') {
                setErrorFor(authNum, '올바른 인증번호가 아닙니다.');
                return;
            }
            location.href="index.html";
        }
    </script>
</body>
</html>
